"use strict";angular.module("MeanAppWebClient",["ngResource","ngRoute","angularSpinners","ui-notification"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl",controllerAs:"login",auth:!1}).when("/register",{templateUrl:"views/register.html",controller:"RegisterCtrl",controllerAs:"register",auth:!1}).when("/dashboard",{templateUrl:"views/dashboard.html",controller:"DashboardCtrl",controllerAs:"dashboard",auth:!0}).when("/order",{templateUrl:"views/orderlist.html",controller:"OrderCtrl",controllerAs:"order",auth:!0,operation:"get"}).when("/order/:_id",{templateUrl:"views/orderform.html",controller:"OrderCtrl",controllerAs:"order",auth:!0,operation:"put"}).when("/neworder",{templateUrl:"views/orderform.html",controller:"OrderCtrl",controllerAs:"order",auth:!0,operation:"post"}).otherwise({redirectTo:"/"})}]).config(["NotificationProvider",function(a){a.setOptions({delay:1e4,startTop:40,startRight:40,verticalSpacing:40,horizontalSpacing:40,positionX:"right",positionY:"top"})}]).constant("API_ENDPOINT",{LOCAL_TOKEN_KEY:"TokenKeyByFuzonmedia",url:"https://rest-node-app.herokuapp.com/",signup:"signup",login:"authenticate",order:"order"}).constant("MENU",{LOGGEDIN:[{name:"Dashboard",url:"",child:[{name:"Dashboard",url:"/dashboard"},{name:"Dashboard2",url:"/dashboard2"}]},{name:"Order",url:"",child:[{name:"List",url:"/order"},{name:"New",url:"/neworder"}]},{name:"API",url:"/apidetails"}]}).service("AuthService",["$q","$http","API_ENDPOINT",function(a,b,c){function d(a){g=!0,f=a,window.localStorage.setItem(c.LOCAL_TOKEN_KEY,a),b.defaults.headers.common.Authorization=f}function e(){if(!g||void 0===f){var a=window.localStorage.getItem(c.LOCAL_TOKEN_KEY);a&&(g=!0,f=a,b.defaults.headers.common.Authorization=f)}}var f,g=!1;e();var h=function(d){return a(function(a,e){b.post(c.url+c.signup,d).then(function(b){return b.data.success?a(b.data.msg):e(b.data.msg)})})},i=function(e){return a(function(a,f){b.post(c.url+c.login,e).then(function(b){return b.data.success?(d(b.data.token),a(b.data.token)):f(b.data.msg)})})},j=function(){f=void 0,g=!1,window.localStorage.removeItem(c.LOCAL_TOKEN_KEY),b.defaults.headers.common.Authorization=void 0};return{login:i,signup:h,logout:j,isAutheticate:function(){return g}}}]).factory("order",["$q","$http","API_ENDPOINT",function(a,b,c){return{getAll:function(){return a(function(a,d){b.get(c.url+c.order).then(function(b){return b.data.success?a(b.data.result):d(b.data.msg)})})},get:function(d){return a(function(a,e){b.get(c.url+c.order+"/"+d).then(function(b){return b.data.success?a(b.data.result):e(b.data.msg)})})},post:function(d){return a(function(a,e){b.post(c.url+c.order,d).then(function(b){return b.data.success?a(b.data.msg):e(b.data.msg)})})},put:function(d){return a(function(a,e){b.put(c.url+c.order+"/"+d._id,d).then(function(b){return b.data.success?a(b.data.result):e(b.data.msg)})})},delete:function(d){return a(function(a,e){b.delete(c.url+c.order+"/"+d).then(function(b){return b.data.success?a(b.data.result):e(b.data.msg)})})}}}]).factory("AuthInterceptor",["$rootScope","$q",function(a,b){return{responseError:function(c){return a.$broadcast({401:"auth-not-authenticated"}[c.status],c),b.reject(c)}}}]).config(["$httpProvider",function(a){a.interceptors.push("AuthInterceptor")}]).run(["$location","$rootScope","$route","AuthService",function(a,b,c,d){b.$on("$locationChangeStart",function(e,f,g){var h=a.path(),i=c.routes[h];b.active_location=h,i&&i.auth&&!d.isAutheticate()&&a.path("/login"),i&&i.auth===!1&&d.isAutheticate()&&a.path("/dashboard")})}]),angular.module("MeanAppWebClient").controller("AppCtrl",["$scope","AuthService","$rootScope","MENU","$location","spinnerService",function(a,b,c,d,e,f){a.MENU=d,c.AuthCheck=b.isAutheticate(),a.userLogout=function(){b.logout(),c.AuthCheck=!1,window.location.href="#login"},c.$watch("AuthCheck",function(){},!0),a.$on("auth-not-authenticated",function(a){b.logout(),c.AuthCheck=!1,window.location.href="#login",f.hide("html5spinner")})}]),angular.module("MeanAppWebClient").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("MeanAppWebClient").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("MeanAppWebClient").controller("LoginCtrl",["$scope","AuthService","$rootScope","spinnerService",function(a,b,c,d){a.userLogin=function(){""!==a.user.username&&""!==a.user.password?(d.show("html5spinner"),b.login(a.user).then(function(a){c.AuthCheck=b.isAutheticate(),window.location.href="#dashboard"},function(b){a.error=b}).finally(function(){d.hide("html5spinner")})):a.error="Invalid Username / Password"}}]),angular.module("MeanAppWebClient").controller("RegisterCtrl",["$scope","Notification","AuthService","spinnerService",function(a,b,c,d){a.Register=function(){""!==a.user.username&&""!==a.user.password&&""!==a.user.name&&""!==a.user.country?(d.show("html5spinner"),c.signup(a.user).then(function(a){b.success({message:"User Successfully Registered ",delay:4e3}),window.location.href="#login"},function(a){b.error({message:a,delay:4e3})}).finally(function(){d.hide("html5spinner")})):b.error({message:"Please fill all required field :  Name , Username , Password , Country ",delay:4e3})}}]),angular.module("MeanAppWebClient").controller("DashboardCtrl",["$scope",function(a){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("MeanAppWebClient").controller("OrderCtrl",["$scope","order","spinnerService","$route","Notification",function(a,b,c,d,e){"get"===d.current.$$route.operation&&(c.show("html5spinner"),b.getAll().then(function(b){a.orders=b},function(a){e.error({message:a,delay:4e3})}).finally(function(){c.hide("html5spinner")}),a.deleteOrder=function(d,f){window.confirm("Are you sure want to delete that order ?")&&(c.show("html5spinner"),b.delete(d).then(function(b){a.orders.splice(f,1),e.success({message:"Order Successfully Deleted",delay:4e3})},function(a){e.error({message:a,delay:4e3})}).finally(function(){c.hide("html5spinner")}))}),"post"===d.current.$$route.operation&&(a.formAction="Add Order",a.formActionClick=function(){c.show("html5spinner"),b.post(a.order).then(function(a){e.success({message:"Order Successfully Created",delay:4e3}),window.location.href="#order"},function(a){e.error({message:a,delay:4e3})}).finally(function(){c.hide("html5spinner")})}),"put"===d.current.$$route.operation&&(a.formAction="Update Order",c.show("html5spinner"),b.get(d.current.params._id).then(function(b){a.order=b},function(a){e.error({message:a,delay:4e3})}).finally(function(){c.hide("html5spinner")}),a.formActionClick=function(){c.show("html5spinner"),b.put(a.order).then(function(a){e.success({message:"Order Successfully Updated",delay:4e3}),window.location.href="#order"},function(a){e.error({message:a,delay:4e3})}).finally(function(){c.hide("html5spinner")})})}]),angular.module("MeanAppWebClient").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/dashboard.html",'<div class="row"> <div class="col-md-3"> <div ng-include src="\'views/menu_logged.html\'"></div> </div> <div class="col-md-9"> Dahsboard Details </div> </div>'),a.put("views/login.html",'<div class="login-container"> <div class="center"> <h1> <i class="ace-icon fa fa-leaf green"></i> <span class="red">Ace</span> <span class="white" id="id-text2">Application</span> </h1> <h4 class="blue" id="id-company-text">&copy; Company Name</h4> </div> <div class="space-6"></div> <div id="login-box" class="login-box visible widget-box no-border"> <div class="widget-body"> <div class="widget-main"> <h4 class="header blue lighter bigger"> <i class="ace-icon fa fa-coffee green"></i> Please Enter Your Information </h4> <div class="space-6"></div> <div class="alert alert-danger error" ng-if="error">{{error}}</div> <fieldset> <div class="form-group"> <label class="block clearfix"> <span class="block input-icon input-icon-right"> <input type="text" class="form-control" placeholder="Username" ng-model="user.username" ng-init="user.username=\'\'"> <i class="ace-icon fa fa-user"></i> </span> </label> </div> <div class="form-group"> <label class="block clearfix"> <span class="block input-icon input-icon-right"> <input type="password" class="form-control" placeholder="Password" ng-model="user.password" ng-init="user.password=\'\'"> <i class="ace-icon fa fa-lock"></i> </span> </label> </div> <div class="space"></div> <div class="clearfix"> <button type="submit" class="width-35 pull-right btn btn-sm btn-primary" ng-click="userLogin()"> <i class="ace-icon fa fa-key"></i> <span class="bigger-110">Login</span> </button> </div> <div class="space-4"></div> </fieldset> <a class="btn btn-link" href="#">Forgot Your Password?</a> <div class="social-or-login center"> <span class="bigger-110">Or Login Using</span> </div> <div class="space-6"></div> <div class="social-login center"> <a class="btn btn-primary"> <i class="ace-icon fa fa-facebook"></i> </a> <a class="btn btn-info"> <i class="ace-icon fa fa-twitter"></i> </a> <a class="btn btn-danger"> <i class="ace-icon fa fa-google-plus"></i> </a> </div> </div><!-- /.widget-main --> </div><!-- /.widget-body --> </div><!-- /.login-box --> </div>'),a.put("views/main.html",'<!-- Carousel\n================================================== --> <div id="myCarousel" class="carousel slide" data-ride="carousel"> <!-- Indicators --> <ol class="carousel-indicators"> <li data-target="#myCarousel" data-slide-to="0" class="active"></li> <li data-target="#myCarousel" data-slide-to="1"></li> <li data-target="#myCarousel" data-slide-to="2"></li> </ol> <div class="carousel-inner"> <div class="item active"> <img data-src="holder.js/1500x500/auto/#666:#6a6a6a/text:First slide" alt="Second slide"> <div class="container"> <div class="carousel-caption" style="display:none"> <h1>Example headline.</h1> <p>Note: If you\'re viewing this page via a <code>file://</code> URL, the "next" and "previous" Glyphicon buttons on the left and right might not load/display properly due to web browser security rules.</p> <p><a class="btn btn-lg btn-primary" href="#" role="button">Sign up today</a></p> </div> </div> </div> <div class="item"> <img data-src="holder.js/1500x500/auto/#666:#6a6a6a/text:Second slide" alt="Second slide"> <div class="container"> <div class="carousel-caption"> <h1>Another example headline.</h1> <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p> <p><a class="btn btn-lg btn-primary" href="#" role="button">Learn more</a></p> </div> </div> </div> <div class="item"> <img data-src="holder.js/1500x500/auto/#555:#5a5a5a/text:Third slide" alt="Third slide"> <div class="container"> <div class="carousel-caption"> <h1>One more for good measure.</h1> <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p> <p><a class="btn btn-lg btn-primary" href="#" role="button">Browse gallery</a></p> </div> </div> </div> </div> <a class="left carousel-control" href="#myCarousel" data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a> <a class="right carousel-control" href="#myCarousel" data-slide="next"><span class="glyphicon glyphicon-chevron-right"></span></a> </div> <!-- /.carousel --> <div class="container main-container"> <h2 class="page-header text-primary">Welcome</h2> <div class="container marketing"> <!-- Three columns of text below the carousel --> <div class="row"> <div class="col-lg-4"> <img class="img-circle" data-src="holder.js/140x140" alt="Generic placeholder image"> <h2>Heading</h2> <p>Donec sed odio dui. Etiam porta sem malesuada magna mollis euismod. Nullam id dolor id nibh ultricies vehicula ut id elit. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Praesent commodo cursus magna.</p> <p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p> </div><!-- /.col-lg-4 --> <div class="col-lg-4"> <img class="img-circle" data-src="holder.js/140x140" alt="Generic placeholder image"> <h2>Heading</h2> <p>Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Cras mattis consectetur purus sit amet fermentum. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh.</p> <p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p> </div><!-- /.col-lg-4 --> <div class="col-lg-4"> <img class="img-circle" data-src="holder.js/140x140" alt="Generic placeholder image"> <h2>Heading</h2> <p>Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</p> <p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p> </div><!-- /.col-lg-4 --> </div><!-- /.row --> <!-- START THE FEATURETTES --> <hr class="featurette-divider"> <div class="row featurette"> <div class="col-md-7"> <h2 class="featurette-heading">First featurette heading. <span class="text-muted">It\'ll blow your mind.</span></h2> <p class="lead">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p> </div> <div class="col-md-5"> <img class="featurette-image img-responsive" data-src="holder.js/500x500/auto" alt="Generic placeholder image"> </div> </div> <hr class="featurette-divider"> <div class="row featurette"> <div class="col-md-5"> <img class="featurette-image img-responsive" data-src="holder.js/500x500/auto" alt="Generic placeholder image"> </div> <div class="col-md-7"> <h2 class="featurette-heading">Oh yeah, it\'s that good. <span class="text-muted">See for yourself.</span></h2> <p class="lead">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p> </div> </div> <hr class="featurette-divider"> <div class="row featurette"> <div class="col-md-7"> <h2 class="featurette-heading">And lastly, this one. <span class="text-muted">Checkmate.</span></h2> <p class="lead">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p> </div> <div class="col-md-5"> <img class="featurette-image img-responsive" data-src="holder.js/500x500/auto" alt="Generic placeholder image"> </div> </div> <!-- /END THE FEATURETTES --> </div> </div>'),a.put("views/menu_logged.html",'<ul ng-repeat="menu in $parent.MENU.LOGGEDIN" class="nav nav-pills nav-stacked"> <li role="presentation" ng-class="$parent.active_location===menu.url ? \'active\' :\'\' "> <a href="#{{menu.url}}" ng-if="menu.url!==\'\'">{{menu.name}}</a> <a href="" ng-if="menu.url===\'\'">{{menu.name}}</a> <ul ng-repeat="submenu in menu.child" class="nav nav-pills nav-stacked"> <li role="presentation" ng-class="$parent.active_location===submenu.url ? \'active\' :\'\' "><a href="#{{submenu.url}}">{{submenu.name}}</a></li> <ul> </ul></ul></li> </ul>'),a.put("views/orderform.html",'<div class="row"> <div class="col-md-3"> <div ng-include src="\'views/menu_logged.html\'"></div> </div> <div class="col-md-9"> <div class="alert alert-danger error" ng-if="error">{{error}}</div> <h2>Order Form</h2> <table class="table table-striped"> <tr> <td>Order ID</td> <td><input type="text" ng-model="order.OrderID" ng-init="order.OrderID=\'\'"></td> </tr> <tr> <td>Customer Name</td> <td><input type="text" ng-model="order.customerName" ng-init="order.customerName=\'\'"></td> </tr> <tr> <td>Order Amount</td> <td><input type="text" ng-model="order.amount" ng-init="order.amount=\'\'"></td> </tr> <tr> <td></td> <td><button type="submit" class="width-35 pull-right btn btn-sm btn-primary" ng-click="formActionClick()"> <span class="bigger-110">{{formAction}}</span> </button></td> </tr> </table> </div> </div>'),a.put("views/orderlist.html",'<div class="row"> <div class="col-md-3"> <div ng-include src="\'views/menu_logged.html\'"></div> </div> <div class="col-md-9"> <h2>Order List</h2> <table class="table table-striped"> <tr> <th>Order ID</th> <th>Customer Name</th> <th>Amount</th> <th></th> </tr> <tr ng-repeat="(index, order) in orders"> <td><a href="#/order/{{order._id}}">{{order.OrderID}}</a></td> <td>{{order.amount}}</td> <td>{{order.customerName}}</td> <td><a href="" ng-click="deleteOrder(order._id,index)">Delete</a></td> </tr> </table> </div> </div>'),a.put("views/register.html",'<div class="login-container"> <div id="signup-box" class="signup-box widget-box no-border"> <div class="widget-body"> <div class="widget-main"> <h4 class="header green lighter bigger"> <i class="ace-icon fa fa-users blue"></i> New User Registration </h4> <div class="space-6"></div> <p> Enter your details to begin: </p> <fieldset> <div class="form-group"> <label class="block clearfix"> <span class="block input-icon input-icon-right"> <input type="text" class="form-control" placeholder="Enter Name" ng-model="user.name" ng-init="user.name=\'\'"> <i class="ace-icon fa fa-user"></i> </span> </label> </div> <div class="form-group"> <label class="block clearfix"> <span class="block input-icon input-icon-right"> <input type="email" class="form-control" placeholder="Enter username" ng-model="user.username" ng-init="user.username=\'\'"> <i class="ace-icon fa fa-envelope"></i> </span> </label> </div> <div class="form-group"> <label class="block clearfix"> <span class="block input-icon input-icon-right"> <input type="password" class="form-control" placeholder="Password" ng-model="user.password" ng-init="user.password=\'\'"> <i class="ace-icon fa fa-lock"></i> </span> </label> </div> <div class="form-group"> <label class="block clearfix"> <span class="block input-icon input-icon-right"> <select ng-model="user.country" class="form-control" ng-init="user.country=\'\'"> <option value="" selected>Select Country</option> <option value="India">India</option> <option value="Russia">Russia</option> <option value="USA">USA</option> <option value="UK">UK</option> </select> </span> </label> </div> <label class="block"> <input type="checkbox" class="ace"> <span class="lbl"> I accept the <a href="#">User Agreement</a> </span> </label> <div class="space-24"></div> <div class="clearfix"> <button type="reset" class="width-30 pull-left btn btn-sm"> <i class="ace-icon fa fa-refresh"></i> <span class="bigger-110">Reset</span> </button> <button type="submit" class="width-65 pull-right btn btn-sm btn-success" ng-click="Register()"> <span class="bigger-110">Register</span> <i class="ace-icon fa fa-arrow-right icon-on-right"></i> </button> </div> </fieldset> </div> </div><!-- /.widget-body --> </div><!-- /.signup-box --> </div>')}]);